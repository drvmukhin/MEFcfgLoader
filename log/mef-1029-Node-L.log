--- JUNOS 12.3-20140528_acx_x54_s4.0 built 2014-05-28 18:14:01 UTC

iometrix@node-l> 

iometrix@node-l> 

iometrix@node-l> edit 
Entering configuration mode
Users currently editing the configuration:
  root terminal u0 (pid 30756) on since 2015-10-18 20:07:13 PDT, idle 1w3d 17:19
      [edit]

[edit]
iometrix@node-l# edit groups global 

[edit groups global]
iometrix@node-l# save grp-global-original.conf 
Wrote 335 lines of configuration to 'grp-global-original.conf'

[edit groups global]
iometrix@node-l# exit 

[edit]
iometrix@node-l# exit 
Exiting configuration mode

iometrix@node-l> ftp 172.29.96.117 
Connected to 172.29.96.117.
220-FileZilla Server version 0.9.48 beta
220-written by Tim Kosse (tim.kosse@filezilla-project.org)
220 Please visit http://sourceforge.net/projects/filezilla/
Name (172.29.96.117:iometrix): iometrix
331 Password required for iometrix
Password:
230 Logged on
Remote system type is UNIX.
ftp> binary
200 Type set to I
ftp> get  ./group-global-acx-l.conf group-global-acx-l.conf
local: group-global-acx-l.conf remote: ./group-global-acx-l.conf
200 Port command successful
150 Opening data channel for file download from server of "/group-global-acx-l.conf"
100% |****************************************|   986       00:00 ETA
226 Successfully transferred "/group-global-acx-l.conf"
986 bytes received in 0.06 seconds (17.36 KB/s)
ftp> get  ./group-member0-acx-l.conf group-member0-acx-l.conf
local: group-member0-acx-l.conf remote: ./group-member0-acx-l.conf
200 Port command successful
150 Opening data channel for file download from server of "/group-member0-acx-l.conf"
100% |****************************************|   188       00:00 ETA
226 Successfully transferred "/group-member0-acx-l.conf"
188 bytes received in 0.05 seconds (3.34 KB/s)
ftp> get ./E-Access/aevpl-1-acx-l.conf aevpl-1-acx-l.conf
local: aevpl-1-acx-l.conf remote: ./E-Access/aevpl-1-acx-l.conf
200 Port command successful
150 Opening data channel for file download from server of "/E-Access/aevpl-1-acx-l.conf"
100% |****************************************| 13371       00:00 ETA
226 Successfully transferred "/E-Access/aevpl-1-acx-l.conf"
13371 bytes received in 0.12 seconds (111.48 KB/s)
ftp> quit
221 Goodbye

iometrix@node-l> edit 
Entering configuration mode
Users currently editing the configuration:
  root terminal u0 (pid 30756) on since 2015-10-18 20:07:13 PDT, idle 1w3d 17:19
      [edit]

[edit]
iometrix@node-l# load update aevpl-1-acx-l.conf 
load complete

[edit]
iometrix@node-l# load replace grp-global-original.conf 
load complete

[edit]
iometrix@node-l# edit groups global 

[edit groups global]
iometrix@node-l# load merge relative group-global-acx-l.conf 
load complete

[edit groups global]
iometrix@node-l# exit 

[edit]
iometrix@node-l# edit groups re0 

[edit groups re0]
iometrix@node-l# load update relative group-member0-acx-l.conf 
load complete

[edit groups re0]
iometrix@node-l# exit 

[edit]
iometrix@node-l# set apply-groups global 

[edit]
iometrix@node-l# set apply-groups re0 

[edit]
iometrix@node-l# commit 
commit complete

[edit]
iometrix@node-l# exit 
Exiting configuration mode

--- JUNOS 12.3-20140528_acx_x54_s4.0 built 2014-05-28 18:14:01 UTC
iometrix@node-l> edit 
Entering configuration mode
Users currently editing the configuration:
  root terminal u0 (pid 30756) on since 2015-10-18 20:07:13 PDT, idle 1w3d 17:43
      [edit]

[edit]
iometrix@node-l# show interfaces 
ge-0/0/7 {
    apply-groups core-intf;
    flexible-vlan-tagging;
    encapsulation flexible-ethernet-services;
    gigether-options {
        ethernet-switch-profile {
            tag-protocol-id 0x88a8;
        }
    }
    unit 1 {
        encapsulation vlan-bridge;
        vlan-tags outer 0x88a8.555;
    }
    unit 2 {
        encapsulation vlan-bridge;
        vlan-tags outer 0x88a8.666;
    }
}
ge-0/1/3 {
    apply-groups access-intf;
    flexible-vlan-tagging;
    native-vlan-id 1;
    encapsulation flexible-ethernet-services;
    gigether-options {
        ethernet-switch-profile {
            tag-protocol-id [ 0x88a8 0x8100 ];
        }
    }
    unit 1 {
        encapsulation vlan-bridge;
        vlan-id 1;
        input-vlan-map {
            push;
            tag-protocol-id 0x88a8;
            vlan-id 555;
        }
        output-vlan-map pop;
    }
    unit 2 {
        encapsulation vlan-bridge;
        vlan-id-list 2-4094;
        input-vlan-map {
            push;
            tag-protocol-id 0x88a8;
            vlan-id 666;
        }
        output-vlan-map pop;
    }
}
lo0 {
    unit 0 {
        family inet {
            address 1.1.1.1/32;
        }
    }
}

[edit]
iometrix@node-l# set interfaces ge-1/0/3 gir
                                         ^
syntax error.
iometrix@node-l# set interfaces ge-1/0/3 gigether-options flex
                                                          ^
syntax error.
iometrix@node-l# set interfaces ge-1/0/3 gigether-options ethernet-switch-profile ?
Possible completions:
+ apply-groups         Groups from which to inherit configuration data
+ apply-groups-except  Don't inherit configuration data from these groups
+ tag-protocol-id      IEEE 802.1q Tag Protocol Identifier values for VLAN-tagged frames
[edit]
iometrix@node-l# set interfaces ge-1/0/3 gigether-options ethernet-switch-profile tag-protocol-id ?
Possible completions:
  <tpid_list>          
  [                    Open a set of values
[edit]
iometrix@node-l# edit interfaces ge-1/0/3                                                            

[edit interfaces ge-1/0/3]
iometrix@node-l# show 

[edit interfaces ge-1/0/3]
iometrix@node-l# show 

[edit interfaces ge-1/0/3]
iometrix@node-l# exit 

[edit]
iometrix@node-l# show interfaces 
ge-0/0/7 {
    apply-groups core-intf;
    flexible-vlan-tagging;
    encapsulation flexible-ethernet-services;
    gigether-options {
        ethernet-switch-profile {
            tag-protocol-id 0x88a8;
        }
    }
    unit 1 {
        encapsulation vlan-bridge;
        vlan-tags outer 0x88a8.555;
    }
    unit 2 {
        encapsulation vlan-bridge;
        vlan-tags outer 0x88a8.666;
    }
}
ge-0/1/3 {
    apply-groups access-intf;
    flexible-vlan-tagging;
    native-vlan-id 1;
    encapsulation flexible-ethernet-services;
    gigether-options {
        ethernet-switch-profile {
            tag-protocol-id [ 0x88a8 0x8100 ];
        }
    }
    unit 1 {
        encapsulation vlan-bridge;
        vlan-id 1;
        input-vlan-map {
            push;
            tag-protocol-id 0x88a8;
            vlan-id 555;
        }
        output-vlan-map pop;
    }
    unit 2 {
        encapsulation vlan-bridge;
        vlan-id-list 2-4094;
        input-vlan-map {
            push;
            tag-protocol-id 0x88a8;
            vlan-id 666;
        }
        output-vlan-map pop;
    }
}
lo0 {
    unit 0 {
        family inet {
            address 1.1.1.1/32;
        }
    }
}

[edit]
iometrix@node-l# edit interfaces ge-0/1/3 

[edit interfaces ge-0/1/3]
iometrix@node-l# show 
apply-groups access-intf;
flexible-vlan-tagging;
native-vlan-id 1;
encapsulation flexible-ethernet-services;
gigether-options {
    ethernet-switch-profile {
        tag-protocol-id [ 0x88a8 0x8100 ];
    }
}
unit 1 {
    encapsulation vlan-bridge;
    vlan-id 1;
    input-vlan-map {
        push;
        tag-protocol-id 0x88a8;
        vlan-id 555;
    }
    output-vlan-map pop;
}
unit 2 {
    encapsulation vlan-bridge;
    vlan-id-list 2-4094;
    input-vlan-map {
        push;
        tag-protocol-id 0x88a8;
        vlan-id 666;
    }
    output-vlan-map pop;
}

[edit interfaces ge-0/1/3]
iometrix@node-l# delete gigether-options 

[edit interfaces ge-0/1/3]
iometrix@node-l# load merge terminal relative 
[Type ^D at a new line to end input]
gigether-options {
    ethernet-switch-profile {
        tag-protocol-id [ 0x8100 0x88a8 ];
    }
}
load complete

[edit interfaces ge-0/1/3]
iometrix@node-l# show 
apply-groups access-intf;
flexible-vlan-tagging;
native-vlan-id 1;
encapsulation flexible-ethernet-services;
gigether-options {
    ethernet-switch-profile {
        tag-protocol-id [ 0x8100 0x88a8 ];
    }
}
unit 1 {
    encapsulation vlan-bridge;
    vlan-id 1;
    input-vlan-map {
        push;
        tag-protocol-id 0x88a8;
        vlan-id 555;
    }
    output-vlan-map pop;
}
unit 2 {
    encapsulation vlan-bridge;
    vlan-id-list 2-4094;
    input-vlan-map {
        push;
        tag-protocol-id 0x88a8;
        vlan-id 666;
    }
    output-vlan-map pop;
}

[edit interfaces ge-0/1/3]
